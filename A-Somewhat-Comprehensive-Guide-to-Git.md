# <a name="A-Somewhat-Comprehensive-Guide-to-Git"/>A Somewhat Comprehensive Guide to Git

## A Guide to the Guide

First we will have a look at what Git is, as well as brush over some of its main features and uses. After that we will dive into detailed explanations of how to use each of the most commands. Lastly we'll look at some good practices when using Git to ensure you get the most out of this phenomenal tool.

Most of this information was curated from the official [Pro Git Book](https://git-scm.com/book) written by Scott Chacon and Ben Straub.

## What is Git?

Git is a source control management tool used to track modifications made to a source code repository. It also enables you to branch or diverge from the main line of development and continue working without the risk of messing up the main line. This is ideal for working with projects that are in production. 

### Using Git

You can create a local repository, clone existing repositories and push/pull from hosted repositories (on BitBucket, GitHub, etc.). 

After you have made changes to a file, you can stage, commit, push and pull these changes to your repository.

When working on a project, its good practice to not work on the master branch, but rather create a branch for the specific feature you're working on. You can then merge the branch to your master branch when you're satisfied with the changes made. This is extremely useful when working on a project with multiple developers.

### Some Technical Details About Git

#### Three States

The three main states that your files reside in are:

* modified : files have been changed but not committed yet

* staged : marked modifications to be added to your next commit

* committed : files have been safely stored

#### Data

Git does not use the same method of data handling as other version control systems (VCS). Git views the data like a stream of snapshots of a miniature file system. After each commit or state save, git takes a snapshot of your entire project and only stores a link to that snapshot. 

To improve efficiency, whenever a file is changed Git only saves the changes made. Git does not duplicate an unchanged file, but rather links to the previously saved changes of that file.

#### Operations

For nearly all of the operations in Git only local files and resources are needed. This means that you don't need an internet connection when you want to do some work, because all of your commits are saved to your local repository. The only times that you will generally need an internet connection is when you clone a remote repository or push/pull from a remote repository.

#### Checksummed

Git refers to each file and its changes by a checksum (snapshot) that is generated before it is stored. This checksum is generated by using a mechanism called a SHA-1 hash. Here is the SHA-1 hash of the lyrics of Never Gonna Give You Up by Rick Astley:

```278ba8c0ea5d01eb0c269541a26f77bd7bcf97b5```



By using this mechanism, it is impossible to change the contents of any file or directory without Git knowing about it.

#### Adding > Removing

When doing nearly any operation in Git, data is added and not removed. The biggest advantage of this, is that we can dare to experiment without risking a monumental screw-up in your project.

## Installation

Check which version of Git you have installed by running ```git --version``` in your Terminal. 

If it says ```git: command not found``` you can download the latest git version [here](https://git-scm.com/downloads).

## Repositories

### Creating a new repository

Start by creating a new directory. Navigate to this directory in your terminal and run:

 ```git init ```

You can link this repository to an empty remote repository by running:

```git remote add origin [url]```

### Cloning existing repositories

Go to the remote repository and copy said link. Now run:

```git clone [url]```

If you want to clone a local repository run:

```git clone /path/to/repository```

## Branches

When initialising a repository, Git will automatically create a master branch. This is your main branch.

### Creating new branches

Generally you do not want to work in your master branch; this branch is generally used for production environment. Create a new branch and switch to it by running:

```git checkout -b branch_name```

Alternatively, only create a new branch by running:

```git branch branch_name```

### Switching between branches

You can switch branches nearly instantaneously by running:

```git checkout branch_name```

### Deleting branches

Delete branches by switching to the master branch and running:

```git branch -d branch_name```

### Merging branches

Combine a specified_branch's history into current branch (remember to commit untracked changes in the specified_branch):

```git merge [specified-branch]```

Note: This is automatically done in git pull



## Commits

### Making commits

When you have made some changes to a file, it will be in the modified state. This means there are untracked changes. To move the file to the next state, the staged state, simply run:

```git add [file_name]```

To add all untracked files in the current directory, run:

```git add . ```

Or to add all untracked in the entire repository, run:

```git add -A ```

After files have been added to the staged state, you are ready to commit them:

```git commit -m "description of the changes or additions made"```

Here are some [commit message guidelines](https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#commits)

Now your files are in the committed state.

### Amend to a previous commit

If you commit too early and want to add another file to your previous commit, you can:

```git add forgotten_file```

```git commit --amend```

This will prompt a text editor. When you're finished editing the commit message, hit esc to exit editing mode, then type ```:x!``` to save the changes.

Alternatively you can use ```git commit --amend -m "updated commit message"```

If you don't want to update your commit message: ```git commit --amend --no-edit```



## Synchronising Changes

Download all history from the remote tracking branches by running:

```git fetch```

Update your local repository to the newest commit by running:

```git pull origin [branch_name]```

this is a combination of git fetch and git merge

Update your remote repository by running:

```git push origin [branch_name]```



## Advanced

```git log``` :   shows a list of all commits made to the repository

```git log --oneline``` :   get short version of git log including abbreviated SHA-1                                               hashes

## Temporarily revert back to a previous commit

If you want to go back to a previous commit without wanting to make commits, you can use:

```git checkout [SHA-1 hash or abbreviated SHA-1 hash]```

If you want to go back to a previous commit and want to make commits, you can create a new branch using:

```git checkout -b branch_name [SHA-1 hash or abbreviated SHA-1 hash]```

##Permanently go back to previous commit and hard delete unpublished commits

If you want to go back to a previous commit and delete all the data between that commit and latest commit, use:

```git reset --hard [SHA-1 hash or abbreviated SHA-1 hash]```



##Git Good Practices 

Now that you know the basics of using Git, it's time to implement some good practices of working with Git.

* Never work on the master branch, always work on a feature-specific branch. You can merge with your main branch once you have reviewed and tested the new code.

* Commit often, and use the correct commit message format.

* Before using git push&git pull make sure you are on the right branch by using git branch. 

* Refer to original documentation where possible, Git original documentation.

Go on now, git!
